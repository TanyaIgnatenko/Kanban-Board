(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,r){e.exports=r(52)},39:function(e,t,r){},42:function(e,t,r){},44:function(e,t,r){},46:function(e,t,r){},48:function(e,t,r){},50:function(e,t,r){},52:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),a=r(16),i=r.n(a),c=r(11),l=r(7),s=r(18),d=r(23),u=r(24),f=r(29),p=r(25),h=r(30),b=o.a.createContext({draggedObject:null,registerDraggable:function(){},registerDroppable:function(){},registerScrollable:function(){}});function g(e){return e.scrollHeight>e.clientHeight}function m(e){return e.scrollWidth>e.clientWidth}var v={CARD:"CARD",LIST:"LIST"},y={BOTTOM:"BOTTOM",TOP:"TOP",RIGHT:"RIGHT",LEFT:"LEFT"},O={LEFT:1,MIDDLE:2,RIGHT:3};var E=function(e){function t(){var e,r;Object(d.a)(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=Object(f.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={draggedObjectPosition:null},r.draggedObject=null,r.hoveredDroppable=null,r.droppables={},r.scrollables={},r.registerScrollable=function(e){return r.scrollables[e.id]=e,function(){delete r.scrollables[e.id]}},r.registerDroppable=function(e){return r.droppables[e.id]=e,function(){delete r.droppables[e.id]}},r.registerDraggable=function(e){var t=e.dragHandleRef,n=Object(s.a)(e,["dragHandleRef"]),o=t.current,a=function(e){if(e.which===O.LEFT){var t={x:e.clientX,y:e.clientY},a=n.ref.current.getBoundingClientRect(),i={x:t.x-a.left,y:t.y-a.top};r.bindedStartDragIfMove=function(e){return r.startDragIfMove(Object(l.a)({handle:o},n),t,i,e)},document.addEventListener("pointermove",r.bindedStartDragIfMove),document.addEventListener("pointerup",r.resetPreparationToDrag),e.stopPropagation()}};return o.addEventListener("pointerdown",a),function(){o.removeEventListener("pointerdown",a)}},r.startDragIfMove=function(e,t,n,o){var a=o.clientX,i=o.clientY;(Math.abs(a-t.x)>2||Math.abs(i-t.y)>2)&&(document.removeEventListener("pointermove",r.bindedStartDragIfMove),document.removeEventListener("pointerup",r.resetPreparationToDrag),r.grabDraggable(Object(l.a)({grabShift:n},e)))},r.resetPreparationToDrag=function(){document.removeEventListener("pointermove",r.bindedStartDragIfMove),document.removeEventListener("pointerup",r.resetPreparationToDrag)},r.grabDraggable=function(e){var t=e.grabShift,n=e.context,o=e.type,a=e.ref,i=e.handle,c=e.renderAvatar,l=e.onGrab,s=e.onMove,d=e.onRelease,u=a.current.getBoundingClientRect();r.draggedObject={context:n,type:o,renderAvatar:c,handle:i,onGrab:l,onMove:s,onRelease:d,grabShift:t,dimensions:{width:u.width,height:u.height},position:{x:u.left,y:u.top},movement:[]},r.dndContext.draggedObject=r.draggedObject,r.manageDroppables(),r.setState({draggedObjectPosition:r.draggedObject.position},function(){document.addEventListener("pointermove",r.moveDraggable),document.addEventListener("pointerup",r.releaseDraggable)}),r.draggedObject.onGrab()},r.dndContext={draggedObject:null,registerDraggable:r.registerDraggable,registerDroppable:r.registerDroppable,registerScrollable:r.registerScrollable},r.moveDraggable=function(e){var t=e.clientX,n=e.clientY,o=e.movementX,a=e.movementY,i=r.draggedObject.grabShift,c=r.draggedObject,l=r.hoveredDroppable,s={x:t-i.x,y:n-i.y};c.position=s;var d=[];o&&d.push(o>0?y.RIGHT:y.LEFT),a&&d.push(a>0?y.BOTTOM:y.TOP),c.movement=d,r.scrollIfNedeed({x:t,y:n}),r.manageDroppables(),r.setState({draggedObjectPosition:s}),c.onMove({draggableContext:c.context,droppableContext:l.context})},r.releaseDraggable=function(){var e=r.draggedObject,t=r.hoveredDroppable;document.removeEventListener("pointermove",r.moveDraggable),document.removeEventListener("pointerup",r.releaseDraggable),r.draggedObject=null,r.hoveredDroppable=null,r.dndContext.draggedObject=null,r.setState({draggedObjectPosition:null}),e.onRelease({draggableContext:e.context,droppableContext:t.context}),t.onDraggableLeave()},r.findDroppable=function(e){var t=r.draggedObject.node;!function(e){e&&(e.style.visibility="hidden")}(t);var n=document.elementFromPoint(e.x,e.y);for(!function(e){e&&(e.style.visibility="visible")}(t);n;){var o=n.closest(".droppable");if(!o)return null;if(r.droppables[o.id]){if(r.droppables[o.id].acceptedTypes.includes(r.draggedObject.type))return o;n=o.parentNode}else console.warn("Unregistered droppable with id:",o.id),n=o.parentNode}return null},r.setDraggedObjectRef=function(e){r.draggedObject&&(r.draggedObject.node=e)},r}return Object(h.a)(t,e),Object(u.a)(t,[{key:"scrollIfNedeed",value:function(e){var t=this;Object.values(this.scrollables).forEach(function(r){var n=r.scrollStep,o=r.scrollPointOffset,a=r.scrolledByTypes,i=r.ref.current;i&&a.includes(t.draggedObject.type)&&function(e,t){var r=t.getBoundingClientRect();return e.x>=r.left&&e.x<=r.right&&e.y>=r.top&&e.y<=r.bottom}(e,i)&&(m(i)&&(e.x<=i.clientLeft+o?i.scrollLeft-=n:e.x>=i.clientWidth-o&&(i.scrollLeft+=n)),g(i)&&(e.y<=i.clientTop+o?i.scrollTop-=n:e.y>=i.clientHeight-o&&(i.scrollTop+=n)))})}},{key:"manageDroppables",value:function(){var e=this.draggedObject,t=e.position,r=e.dimensions,n=this.hoveredDroppable,o=this.findDroppable({x:t.x+r.width/2,y:t.y+r.height/2});o&&(this.hoveredDroppable=this.droppables[o.id],(!n||o.id!==n.id)&&(n&&n.onDraggableLeave(),this.hoveredDroppable.onDraggableEnter(this.draggedObject)),this.hoveredDroppable.onDraggableHover(this.draggedObject))}},{key:"render",value:function(){var e=this.props.children,t=this.state.draggedObjectPosition,r=this.draggedObject,n=this.dndContext;return o.a.createElement(o.a.Fragment,null,r&&r.renderAvatar({clientPosition:t,grabPoint:r.grabShift,dimensions:r.dimensions,ref:this.setDraggedObjectRef}),o.a.createElement(b.Provider,{value:n},e))}}]),t}(o.a.Component),j=r(12),x=r(8),w=r.n(x),L=r(5);function S(e){var t=e.x,r=e.y;return{position:"fixed",left:"".concat(t,"px"),top:"".concat(r,"px")}}function R(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function C(e,t){var r,n,o,a={x:t.width/2,y:t.height/2},i=R(e,a),c=R(a,{x:e.x,y:e.y+i}),l=Math.sign(a.x-e.x)*(r=i,n=i,o=c,Math.acos((r*r+n*n-o*o)/(2*r*n)));return{transformOrigin:"".concat(e.x/t.width*100,"% ").concat(e.y/t.height*100,"%"),transform:"rotate(".concat(l,"rad)")}}function T(e){var t=e.id,r=e.content,a=e.cardAvatarRef,i=e.className,c=e.grabPoint,l=e.dimensions,s=e.clientPosition,d=Object(n.useState)({}),u=Object(L.a)(d,2),f=u[0],p=u[1],h=Object(n.useCallback)(function(){var e=C(c,l);p(e)},[]),b=Object(n.useCallback)(function(){p({})},[]);return Object(n.useEffect)(function(){return setTimeout(h,5),b},[]),o.a.createElement("div",{id:t,ref:a,className:w()("card","dragged",i),style:Object.assign(S(s),f)},o.a.createElement("h4",{className:"card-content"},r))}T.defaultProps={className:""};var D=T;function I(e){var t=e.ref,r=e.type,o=e.context,a=e.dragHandleRef,i=e.renderAvatar,c=e.onGrab,l=void 0===c?function(){}:c,s=e.onMove,d=void 0===s?function(){}:s,u=e.onRelease,f=void 0===u?function(){}:u,p=Object(n.useContext)(b).registerDraggable;Object(n.useEffect)(function(){return p({ref:t,type:r,context:o,dragHandleRef:a,renderAvatar:i,onGrab:l,onMove:d,onRelease:f})},[t,r,o,a,i,l,d,f])}var N={REQUEST:"@@board/FETCH_BOARD_REQUEST",SUCCESS:"@@board/FETCH_BOARD_SUCCESS",ERROR:"@@board/FETCH_BOARD_ERROR"},A="@@board/MOVE_CARD",k="@@board/MOVE_LIST",P={REQUEST:"@@board/ADD_CARD_REQUEST",SUCCESS:"@@board/ADD_CARD_SUCCESS",ERROR:"@@board/ADD_CARD_ERROR"},_={REQUEST:"@@board/ADD_LIST_REQUEST",SUCCESS:"@@board/ADD_LIST_SUCCESS",ERROR:"@@board/ADD_LIST_ERROR"},M=function(e){return{type:N.SUCCESS,board:e}},F=function(e){return{type:N.ERROR,error:e}},H=function(e,t){return{type:P.SUCCESS,listId:e,card:t}},G=function(e){return{type:P.ERROR,error:e}},B=function(e,t){return{type:_.SUCCESS,boardId:e,list:t}},U=function(e){return{type:_.ERROR,error:e}};r(39);function Q(e){var t=e.id,r=e.content,a=e.setCardRef,i=e.moveCardToList,c=e.className,l=Object(n.useRef)(null);I({context:{id:t},type:v.CARD,ref:l,dragHandleRef:l,renderAvatar:function(e){var n=e.clientPosition,a=e.grabPoint,i=e.dimensions,l=e.ref;return o.a.createElement(D,{id:t,cardAvatarRef:l,content:r,className:c,grabPoint:a,dimensions:i,clientPosition:n})},onRelease:function(e){var t=e.draggableContext,r=e.droppableContext;i(t.id,r.id,r.placeholderIndex)}});return o.a.createElement("div",{id:t,ref:function(e){a(e),l.current=e},className:w()("card",c),tabIndex:0},o.a.createElement("h4",{className:"card-content"},r))}Q.defaultProps={className:""};var V={moveCardToList:function(e,t,r){return{type:A,cardId:e,destinationListId:t,indexInList:r}}},Y=Object(c.b)(null,V)(Q);function q(e){var t=e.id,r=e.name,a=e.cardListAvatarRef,i=e.dragHandleRef,c=e.scrollableRef,l=e.listItems,s=e.setItemRefAt,d=e.addCardComponent,u=e.isCardFormOpened,f=e.grabPoint,p=e.dimensions,h=e.clientPosition,b=e.className,g=Object(n.useState)({}),m=Object(L.a)(g,2),v=m[0],y=m[1];return Object(n.useEffect)(function(){var e=C(f,p);setTimeout(function(){y(e)},2)},[]),o.a.createElement("div",{id:t,ref:a,className:w()("card-list","dragged",b),style:Object.assign(S(h),v)},o.a.createElement("header",{ref:i},o.a.createElement("h2",{className:"list-title"},r)),(Boolean(l.length)||u)&&o.a.createElement("ul",{ref:c,className:"list-cards"},l.map(function(e,t){return o.a.createElement("li",{key:e.data.id},o.a.createElement(Y,Object.assign({},e.data,{setCardRef:function(e){return s(e,t)},className:"list-card"})))}),u&&d),o.a.createElement("footer",null,!u&&d))}q.defaultProps={className:""};var W=q,X=r(14);r(42);function Z(e){var t=e.isFormOpened,r=e.onFormOpenedChange,a=e.openCreationFormBtnText,i=e.placeholderFormText,c=e.submitFormBtnText,l=e.onAdd,s=e.className,d=e.formClassName,u=e.style,f=Object(n.useState)(""),p=Object(L.a)(f,2),h=p[0],b=p[1],g=Object(n.useCallback)(function(e){var t=e.target.value;b(t)},[]),m=Object(n.useCallback)(function(){b(""),r(!1)},[]),v=Object(n.useCallback)(function(){h.trim()&&(l(h),m())},[h,m,l]),y=Object(n.useCallback)(function(){r(!0)},[]),O=function(e){var t=Object(n.useState)(null),r=Object(L.a)(t,2),o=r[0],a=r[1];return Object(n.useEffect)(function(){a(Object(X.uniqueId)(e))},[e]),o}("add-component");!function(e,t){var r=Object(n.useCallback)(function(r){!r.target.closest("#".concat(e))&&t()},[e,t]);Object(n.useEffect)(function(){return document.addEventListener("pointerdown",r),function(){document.removeEventListener("pointerdown",r)}},[r])}(O,Object(n.useCallback)(function(){r(!1)},[]));var E=Object(n.useRef)(null);return Object(n.useEffect)(function(){t&&E.current.scrollIntoView(!1)},[t]),o.a.createElement("div",{id:O,className:w()("add-component-wrapper",s),style:u},o.a.createElement("button",{className:w()("open-form-btn",{hidden:t}),onClick:y},o.a.createElement("h4",null,a)),o.a.createElement("div",{ref:function(e){return E.current=e},className:w()("form",d,{hidden:!t})},o.a.createElement("textarea",{autoFocus:!0,className:"content",value:h,placeholder:i,onChange:g}),o.a.createElement("div",{className:"form-controls"},o.a.createElement("button",{className:"add-btn",onClick:v},c),o.a.createElement("button",{"aria-label":"close",className:"close-btn",onClick:m}))))}Z.defaultProps={isFormOpened:null,className:"",formClassName:""};var z=Z;function J(e){var t=e.id,r=e.scrollPointOffset,o=void 0===r?0:r,a=e.scrollStep,i=void 0===a?10:a,c=e.scrolledByTypes,l=void 0===c?[]:c,s=Object(n.useRef)(null),d=Object(n.useContext)(b).registerScrollable;return Object(n.useEffect)(function(){return d({id:t,ref:s,scrolledByTypes:l,scrollPointOffset:o,scrollStep:i})},[t,i,o,l]),s}var K={PLACEHOLDER:"PLACEHOLDER",REGULAR_ITEM:"REGULAR_ITEM"},$={HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL"};function ee(e,t,r){var n=e?e.map(function(e){return{type:K.REGULAR_ITEM,data:e}}):[];return null!==t&&(n=n.filter(function(e){return e.data.id!==t})),null!==r.placeholderIndex&&(n=function(e,t){return e.splice(t.placeholderIndex,0,{type:K.PLACEHOLDER,placeholderIndex:t.placeholderIndex,dimensions:t.dimensions}),e}(n,r)),n}function te(e){var t=e.id,r=e.acceptedTypes,o=e.listType,a=e.items,i=Object(n.useState)(null),c=Object(L.a)(i,2),l=c[0],s=c[1],d=Object(n.useState)(null),u=Object(L.a)(d,2),f=u[0],p=u[1],h=Object(n.useState)(!1),g=Object(L.a)(h,2),m=g[0],v=g[1],y=Object(n.useRef)({id:t,placeholderIndex:null}),O=Object(n.useRef)([]),E=Object(n.useCallback)(function(e){v(!0),p({width:e.dimensions.width,height:e.dimensions.height})},[]),j=Object(n.useCallback)(function(e){var t=e.position.x+e.dimensions.width/2,r=e.position.y+e.dimensions.height/2,n=function(e,t){for(var r=0,n=e.length-1;r<=n;){var o=Math.floor((r+n)/2);t(e[o])?r=o+1:n=o-1}return-1!==n?n:null}(O.current,function(n){var a=n.getBoundingClientRect();switch(o){case $.HORIZONTAL:var i=0;return a.width>e.dimensions.width&&(i=a.width-e.dimensions.width),a.left+i<t;case $.VERTICAL:var c=0;return a.height>e.dimensions.height&&(c=a.height-e.dimensions.height),a.top+c<r;default:console.error("Unknown list type:",o)}});n=null!==n?n:0,y.current.placeholderIndex=n,s(n)},[l,o]),x=Object(n.useCallback)(function(){v(!1),p(null),s(null),y.current.placeholderIndex=null},[]),w=function(e){var t=e.id,r=e.context,o=e.acceptedTypes,a=e.onDraggableEnter,i=e.onDraggableHover,c=e.onDraggableLeave,l=Object(n.useContext)(b),s=l.draggedObject,d=l.registerDroppable;return Object(n.useEffect)(function(){return d({id:t,context:r,acceptedTypes:o,onDraggableEnter:a,onDraggableHover:i,onDraggableLeave:c})},[t,r,o,a,i,c]),{draggableContext:s&&s.context,droppableClassName:"droppable"}}({id:t,context:y.current,acceptedTypes:r,onDraggableEnter:E,onDraggableHover:j,onDraggableLeave:x}),S=w.draggableContext,R=w.droppableClassName,C={placeholderIndex:l,dimensions:f};return{listItems:ee(a,S&&S.id,C),setItemRefAt:function(e,t){e&&(O.current[t]=e)},droppableClassName:R,isHoveredByDraggable:m}}r(44);function re(e){var t=e.id,r=e.name,a=e.cards,i=e.addCard,c=e.setListRef,l=e.moveList,s=e.className,d=Object(n.useMemo)(function(){return[v.CARD]},[]),u=te({id:t,listType:$.VERTICAL,acceptedTypes:d,items:a}),f=u.setItemRefAt,p=u.listItems,h=u.droppableClassName,b=Object(n.useMemo)(function(){return[v.CARD]}),g=J({id:t,scrolledByTypes:b,scrollPointOffset:10,scrollStep:15}),m=Object(n.useRef)(null),y=Object(n.useRef)(null),O=Object(n.useState)(!1),E=Object(L.a)(O,2),x=E[0],S=E[1],R=o.a.createElement(z,{isFormOpened:x,formClassName:"card-form",openCreationFormBtnText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0451 \u043e\u0434\u043d\u0443 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443",placeholderFormText:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",submitFormBtnText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443",onFormOpenedChange:function(e){return S(e)},onAdd:i.bind(null,t)});I({context:{id:t},type:v.LIST,ref:y,dragHandleRef:m,renderAvatar:function(e){var n=e.clientPosition,a=e.grabPoint,i=e.dimensions,c=e.ref;return o.a.createElement(W,{id:t,name:r,cardListAvatarRef:c,dragHandleRef:m,scrollableRef:g,listItems:p,setItemRefAt:f,addCardComponent:R,isCardFormOpened:x,grabPoint:a,dimensions:i,clientPosition:n,className:s})},onRelease:function(e){var t=e.draggableContext,r=e.droppableContext;l(t.id,r.id,r.placeholderIndex)}});return o.a.createElement("div",{id:t,className:w()(h,s)},o.a.createElement("div",{id:t,ref:function(e){c(e),y.current=e},className:"card-list",tabIndex:0},o.a.createElement("header",{ref:m},o.a.createElement("h2",{className:"list-title"},r)),(Boolean(p.length)||x)&&o.a.createElement("ul",{ref:g,className:"list-cards"},p.map(function(e,t){var r;return(r={},Object(j.a)(r,K.REGULAR_ITEM,o.a.createElement("li",{key:e.data&&e.data.id},o.a.createElement(Y,Object.assign({},e.data,{className:"list-card",setCardRef:function(e){return f(e,t)}})))),Object(j.a)(r,K.PLACEHOLDER,o.a.createElement("li",{key:"placeholder"},o.a.createElement("div",{ref:function(e){return f(e,t)},className:"placeholder list-card",style:{width:e.dimensions&&e.dimensions.width,height:e.dimensions&&e.dimensions.height}}))),r)[e.type]}),x&&R),o.a.createElement("footer",null,!x&&R)))}re.defaultProps={className:""};var ne={addCard:function(e,t){return{type:P.REQUEST,listId:e,content:t}},moveList:function(e,t,r){return{type:k,listId:e,destinationBoardId:t,newListIdx:r}}},oe=Object(c.b)(null,ne)(re);var ae=function(e){return e.board.board};r(46);function ie(e){var t=e.id,r=e.background,a=e.name,i=e.lists,c=e.addList,l=function(e){var t="img"===e.type?"url(".concat(e.url,") no-repeat"):e.color;return Object(n.useMemo)(function(){return{background:t,backgroundSize:"cover"}},[t])}(r),s=Object(n.useMemo)(function(){return[v.LIST]},[]),d=te({id:t,listType:$.HORIZONTAL,acceptedTypes:s,items:i}),u=d.setItemRefAt,f=d.listItems,p=d.droppableClassName,h=J({id:t,scrolledByTypes:Object(n.useMemo)(function(){return[v.LIST,v.CARD]},[]),scrollPointOffset:60,scrollStep:20}),b=[{propName:"isFormOpened",changeHandlerName:"onFormOpenedChange",defaultValue:!1}].reduce(function(e,t){var r=t.propName,o=t.changeHandlerName,a=t.defaultValue,i=Object(n.useState)(a),c=Object(L.a)(i,2),l=c[0],s=c[1];return e[r]=l,e[o]=s,e},{}),g=function(e){var t=Object(n.useCallback)(function(t){var r=t.movementX;e.current.scrollLeft-=r},[]),r=Object(n.useCallback)(function(){document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r)},[]);return Object(n.useCallback)(function(){document.addEventListener("pointermove",t),document.addEventListener("pointerup",r)},[])}(h);return o.a.createElement("div",{id:t,className:w()("board",p),style:l,onPointerDown:g},o.a.createElement("h1",{className:"board-title",style:{color:a.color}},a.text),o.a.createElement("ul",{ref:h,className:"board-lists"},f.map(function(e,t){var r;return(r={},Object(j.a)(r,K.REGULAR_ITEM,o.a.createElement("li",{key:e.data&&e.data.id},o.a.createElement(oe,Object.assign({className:"board-list-zone",setListRef:function(e){return u(e,t)}},e.data)))),Object(j.a)(r,K.PLACEHOLDER,o.a.createElement("li",{key:"placeholder"},o.a.createElement("div",{ref:function(e){return u(e,t)},className:"placeholder board-list-zone",style:{width:e.dimensions&&e.dimensions.width,height:e.dimensions&&e.dimensions.height}}))),r)[e.type]}),o.a.createElement(z,Object.assign({className:"add-list-wrapper",formClassName:"add-list-form",openCreationFormBtnText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0451 \u043e\u0434\u043d\u0443 \u043a\u043e\u043b\u043e\u043d\u043a\u0443",placeholderFormText:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u0438",submitFormBtnText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443",onAdd:c.bind(null,t)},b))))}var ce={fetchBoard:function(e){return{type:N.REQUEST,id:e}},addList:function(e,t){return{type:_.REQUEST,boardId:e,content:t}}},le=Object(c.b)(function(e){return{board:ae(e)}},ce)(function(e){var t=e.id,r=e.board,a=e.fetchBoard,i=e.addList,c=Object(s.a)(e,["id","board","fetchBoard","addList"]);return Object(n.useEffect)(function(){a(t)},[a,t]),r&&o.a.createElement(ie,Object.assign({addList:i},r,c))});var se=function(){return o.a.createElement(E,null,o.a.createElement(le,{id:0}))},de=r(28),ue=r(9),fe=r(26),pe=r(27),he={board:null},be=Object(ue.combineReducers)({board:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.SUCCESS:return Object(l.a)({},e,{board:t.board});case A:var r=t.cardId,n=t.destinationListId,o=t.indexInList,a=null,i=e.board.lists.map(function(e){var t=e.cards.find(function(e){return e.id===r});return t?(a=t,Object(l.a)({},e,{cards:e.cards.filter(function(e){return e.id!==r})})):e});if(a){var c=i.find(function(e){return e.id===n});c?c.cards.splice(o,0,a):console.error("List with id",n,"not found")}else console.error("List containing card with id",r,"not found");return Object(l.a)({},e,{board:Object(l.a)({},e.board,{lists:i})});case k:var s=t.listId,d=t.destinationBoardId,u=t.newListIdx;e.board.id!==d&&console.error("Destination board id does not match current board id");var f=e.board.lists.findIndex(function(e){return e.id===s});if(u===f)return e;var p=e.board.lists[f],h=Object(pe.a)(e.board.lists);return h.splice(f,1),h.splice(u,0,p),Object(l.a)({},e,{board:Object(l.a)({},e.board,{lists:h})});case P.SUCCESS:var b=t.listId,g=t.card,m=e.board.lists.map(function(e){return e.id===b?Object(l.a)({},e,{cards:e.cards.concat(g)}):e});return Object(l.a)({},e,{board:Object(l.a)({},e.board,{lists:m})});case _.SUCCESS:var v=t.boardId,y=t.list;return e.board.id!==v&&console.error("Board id does not match current board id"),Object(l.a)({},e,{board:Object(l.a)({},e.board,{lists:e.board.lists.concat(y)})});default:return e}}}),ge=r(4),me=0,ve={id:(me++).toString(),name:{text:'Project "Kanban board"',color:"white"},background:{type:"img",url:"https://images.unsplash.com/photo-1508625935447-e0ebc2cdf6bf?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2835&q=80"},lists:[{id:(me++).toString(),name:"TO DO",cards:[{id:(me++).toString(),content:"Add a backend using node.js"},{id:(me++).toString(),content:"Add an opportunity to edit cards / columns"},{id:(me++).toString(),content:"Add an opportunity to delete cards / columns"}]},{id:(me++).toString(),name:"IN PROGRESS",cards:[]},{id:(me++).toString(),name:"DONE",cards:[{id:(me++).toString(),content:"Add an opportunity to move cards"},{id:(me++).toString(),content:"Add an opportunity to move columns"},{id:(me++).toString(),content:"Add an opportunity to create new cards"},{id:(me++).toString(),content:"Add an opportunity to create new columns"},{id:(me++).toString(),content:"A flexible drag drop system"},{id:(me++).toString(),content:"Add an ability to have several accepted draggable types for a droppable object"},{id:(me++).toString(),content:"Get rid of placeholder movement back and forth"},{id:(me++).toString(),content:"Add an ability to move scrollbar for a draggable object"},{id:(me++).toString(),content:"Add an ability to scroll a board by clicking it and by an attempt to shift it"},{id:(me++).toString(),content:"Solve a text overflow problem"},{id:(me++).toString(),content:"Make a form of creating new card visible at the opening"},{id:(me++).toString(),content:"Make cards and columns accessible from a keyboard"},{id:(me++).toString(),content:"Forbid of creation of empty cards"},{id:(me++).toString(),content:"Don't start dragging after a short click"},{id:(me++).toString(),content:"Don't start dragging by a right / middle mouse click"},{id:(me++).toString(),content:"Highlight a placeholder for a dragging column with a color"},{id:(me++).toString(),content:"Add support of a drag n drop feature for mobile devices"},{id:(me++).toString(),content:"Add a realistic animation for a dragging card"}]},{id:(me++).toString(),name:"RETROSPECTIVE",cards:[]}]};function ye(e){return ve}function Oe(e,t){return{listId:e,card:{id:Object(X.uniqueId)("card"),content:t}}}function Ee(e,t){return{boardId:e,list:{id:Object(X.uniqueId)("list"),name:t,cards:[]}}}var je=xe().mark(Re);function xe(){xe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),c=new L(o||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(C){return{type:"throw",arg:C}}}e.wrap=s;var u={};function f(){}function p(){}function h(){}var b={};l(b,a,function(){return this});var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,a)&&(b=m);var v=h.prototype=f.prototype=Object.create(b);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function O(e,t){var o;n(this,"_invoke",{value:function(n,a){function i(){return new t(function(o,i){!function n(o,a,i,c){var l=d(e[o],e,a);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(u).then(function(e){s.value=e,i(s)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,a,o,i)})}return o=o?o.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return R()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=j(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=d(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function j(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),u;var o=d(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,u;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:R}}function R(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=l(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(O.prototype),l(O.prototype,i,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new O(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(v),l(v,c,"Generator"),l(v,a,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=S,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;w(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function we(e){var t=e.id;return xe().mark(function e(){var r;return xe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ge.b)(ye,t);case 3:return r=e.sent,e.next=6,Object(ge.c)(M(r));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(ge.c)(F(e.t0));case 12:case"end":return e.stop()}},e,null,[[0,8]])})()}function Le(e){var t=e.listId,r=e.content;return xe().mark(function e(){var n;return xe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ge.b)(Oe,t,r);case 3:return n=e.sent,e.next=6,Object(ge.c)(H(n.listId,n.card));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(ge.c)(G(e.t0));case 12:case"end":return e.stop()}},e,null,[[0,8]])})()}function Se(e){var t=e.boardId,r=e.content;return xe().mark(function e(){var n;return xe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ge.b)(Ee,t,r);case 3:return n=e.sent,e.next=6,Object(ge.c)(B(n.boardId,n.list));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(ge.c)(U(e.t0));case 12:case"end":return e.stop()}},e,null,[[0,8]])})()}function Re(){return xe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ge.a)([Object(ge.d)(N.REQUEST,we),Object(ge.d)(P.REQUEST,Le),Object(ge.d)(_.REQUEST,Se)]);case 2:case"end":return e.stop()}},je)}function Ce(){Ce=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),c=new L(o||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(C){return{type:"throw",arg:C}}}e.wrap=s;var u={};function f(){}function p(){}function h(){}var b={};l(b,a,function(){return this});var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,a)&&(b=m);var v=h.prototype=f.prototype=Object.create(b);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function O(e,t){var o;n(this,"_invoke",{value:function(n,a){function i(){return new t(function(o,i){!function n(o,a,i,c){var l=d(e[o],e,a);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(u).then(function(e){s.value=e,i(s)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,a,o,i)})}return o=o?o.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return R()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=j(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=d(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function j(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),u;var o=d(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,u;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:R}}function R(){return{value:void 0,done:!0}}return p.prototype=h,n(v,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=l(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(O.prototype),l(O.prototype,i,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new O(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(v),l(v,c,"Generator"),l(v,a,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=S,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;w(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Te=Ce().mark(De);function De(){return Ce().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ge.a)([Object(ge.b)(Re)]);case 2:case"end":return e.stop()}},Te)}var Ie=Object(de.a)(),Ne=Object(ue.createStore)(be,{},Object(fe.composeWithDevTools)(Object(ue.applyMiddleware)(Ie)));Ie.run(De);r(48),r(50);i.a.render(o.a.createElement(c.a,{store:Ne},o.a.createElement(se,null)),document.getElementById("root"))}},[[31,2,1]]]);
//# sourceMappingURL=main.92f0097f.chunk.js.map